
import (
	"rect.um"
	"signal.um"
	"window.um"
	"ui.um"
)

var gui: ui.Gui

fn init*() {
	window.setup("gui test", 200, 200)

	gui = ui.mk(rect.mk(0, 0, 200, 200))

	window.onFrame.register(signal.Callback{
		layout := ui.LayoutFn{
			gui.vBox(5)

				if gui.button() {
					printf("click 1\n")
				}

				gui.popContainer()

				if gui.button() {
					printf("click 2\n")
				}
				gui.popContainer()

			gui.popContainer()
		}

		gui.eval(layout)
		gui.draw(layout)
	}, null)
}
