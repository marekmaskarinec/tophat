
import (
	"rect.um"
	"signal.um"
	"window.um"
	"ui.um"
)

var gui: ui.Gui

fn init*() {
	window.setup("gui test", 200, 200)

	gui = ui.mk(rect.mk(0, 0, 200, 200))

	window.onFrame.register(signal.Callback{
    
		layout := ui.LayoutFn{
			gui.vBox(30)
      {
        gui.row(3)
        {
          for i := 0; i < 3; i++ {
            if gui.qbutton(sprintf("Button %d", i+1)) {
              printf("click %d\n", i+1)
            }
          }
				}
        gui.popContainer()

				if gui.qbutton("Next row button.") {
					printf("click next row button\n")
				}
      }
			gui.popContainer()
		}

		gui.eval(layout)
		gui.draw(layout)
	}, null)
}
