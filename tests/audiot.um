
import (
	"audio.um"
	"input.um"
	"rect.um"
	"th.um"
	"window.um"
	"signal.um"
)

var (
	s, s2: audio.Sound
)

fn init*() {
	window.setup("audio test")
	window.setViewport(th.Vf2{400, 400})

	s = audio.load("examples/tetris/IDontWantToInfringeCopyrightSoListenToThisMonstrosity.wav")
	s.play()

	s.setVol(0.5)
	s.setPitch(0.5)

	s2 = audio.load("examples/tetris/ClearMega.wav")
	s2.play()

	window.onFrame.register(signal.Callback{
		if input.isJustPressedc('s') {
			s.stop()
			s.seekToFrame(0)
		}

		if input.isJustPressedc(' ') {
			s.play()
		}
	})
}
